<div class="jumbotron">
    <label>Choose dates</label>
    <input [(ngModel)]="selected"
           class="form-control"
           endKey="endDate"
           matInput
           ngxDaterangepickerMd
           placeholder="Choose date range"
           date-date-today-highlight="true"
           startKey="startDate"
           type="text"
           [ngClass]="{
                'is-invalid': timeOffForm.get('startDate').invalid && timeOffForm.get('startDate').touched || timeOffForm.get('startDate').errors?.serverError
                }"
           width="50px"/>
    <small *ngIf="timeOffForm.get('startDate').invalid
                        && timeOffForm.get('startDate').touched"
           class="text-danger">Cant choose today</small>
    <small class="text-danger">{{timeOffForm.get('startDate').errors?.serverError}}</small>

    <button (click)="saveDate()" class="btn btn-info" type=button>Save Date</button>
</div>

<!--<div class="mat-app-background basic-container">
<mat-tab-group mat-align-tabs="Time off request">
    <mat-tab label="Request time off">
        <form [formGroup]="timeOffForm" (ngSubmit)="saveDate()">
            <mat-form-field class="request" appearance="fill" >
            <mat-label>Pick start date</mat-label>
            <input matInput type="date"
                   placeholder="start date"
                   required formControlName="startDate">
            <mat-hint>Start date is required</mat-hint>
            <mat-error *ngIf="timeOffForm.get('startDate').hasError('matDatepickerParse')">
                "{{timeOffForm.get('startDate').getError('matDatepickerParse').text}}"
                is not a valid date!
            </mat-error>
            <mat-error *ngIf="timeOffForm.get('startDate').hasError('matDatepickerMin')">
                Minimum date should be {{minDate | date }}</mat-error>

            <mat-label class="endDate">Pick end date</mat-label>
            <input matInput type="date"
                   placeholder="end date"
                   required formControlName="endDate">
            <mat-hint>Start date is required</mat-hint>
            <mat-error *ngIf="timeOffForm.get('endDate').hasError('matDatepickerParse')">
                "{{timeOffForm.get('endDate').getError('matDatepickerParse').text}}"
                is not a valid date!
            </mat-error>
        </mat-form-field>
        </form>
    </mat-tab>
</mat-tab-group>
</div>
-->


<div class="mat-app-background basic-container">
    <mat-tab-group [(selectedIndex)]="index" animationDuration="200ms" dynamicHeight>
        <mat-tab label="Accepted">
            <mat-accordion>
                <table class="table table-striped table-dark">
                    <thead>
                    <tr>
                        <th scope="col">Start date</th>
                        <th scope="col">End date</th>
                        <th scope="col">Status</th>
                    </tr>
                    </thead>
                    <tbody *ngFor="let acceptedDate of acceptedTimeOffList">
                    <tr>
                        <td>{{acceptedDate.startDate}}</td>
                        <td>{{acceptedDate.endDate}}</td>
                        <td>{{acceptedDate.status}}</td>
                    </tr>
                    </tbody>
                </table>
            </mat-accordion>
        </mat-tab>
        <mat-tab label="Pending">
            <mat-accordion>
                <table class="table table-striped table-dark">
                    <thead>
                    <tr>
                        <th scope="col">Start date</th>
                        <th scope="col">End date</th>
                        <th scope="col">Status</th>
                    </tr>
                    </thead>
                    <tbody *ngFor="let pendingDate of pendingTimeOffList">
                    <tr>
                        <td>{{pendingDate.startDate}}</td>
                        <td>{{pendingDate.endDate}}</td>
                        <td>{{pendingDate.status}}</td>
                    </tr>
                    </tbody>
                </table>
            </mat-accordion>
        </mat-tab>
        <mat-tab label="Rejected">
            <mat-accordion>
                <table class="table table-striped table-dark">
                    <thead>
                    <tr>
                        <th scope="col">Start date</th>
                        <th scope="col">End date</th>
                        <th scope="col">Status</th>
                    </tr>
                    </thead>
                    <tbody *ngFor="let rejectedDate of rejectedTimeOffList">
                    <tr>
                        <td>{{rejectedDate.startDate}}</td>
                        <td>{{rejectedDate.endDate}}</td>
                        <td>{{rejectedDate.status}}</td>
                    </tr>
                    </tbody>
                </table>
            </mat-accordion>
        </mat-tab>
    </mat-tab-group>
</div>



