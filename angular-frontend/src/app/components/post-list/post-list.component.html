<div class="mat-app-dialog basic-container">
    <mat-tab-group [(selectedIndex)]="index" animationDuration="200ms" dynamicHeight>
        <mat-tab label="All">
            <div *ngFor="let post of allPost">
                <mat-card class="example-card">
                    <mat-card-header>
                        <div class="example-header-image" mat-card-avatar></div>
                        <mat-card-title>{{post.title}}</mat-card-title>
                        <mat-card-subtitle>{{post.author}}</mat-card-subtitle>
                    </mat-card-header>
                    <img (click)="readMore(post.id)" alt="Photo" mat-card-image src="{{post.picture}}">
                    <mat-card-content>
                        <p>
                            {{post.postBodyShortened}}
                        </p>
                    </mat-card-content>
                    <mat-card-subtitle>{{post.createdAt}}</mat-card-subtitle>

                    <mat-card-actions>
                        <button (click)="readMore(post.id)" color="primary" mat-raised-button>Read More</button>
                        <button (click)="edit(post.id)" *ngIf="userId===post.authorId" color="accent" mat-raised-button>
                            Edit
                        </button>
                        <button (click)="delete(post.id)" *ngIf="userId===post.authorId" color="warn" mat-raised-button>
                            Delete
                        </button>
                    </mat-card-actions>

                </mat-card>

                <mat-accordion>
                    <mat-expansion-panel (closed)="commentOpenState = false"
                                         (opened)="commentOpenState = true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <svg class="bi bi-chat-fill" fill="currentColor" height="1.5em" viewBox="0 0 16 16"
                                     width="1.5em"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9.06 9.06 0 0 0 8 15z"/>
                                </svg>
                                Comments({{post.numberOfComments}})
                            </mat-panel-title>
                            <mat-panel-description>
                                {{commentOpenState ? 'Hide comments' : 'Show comments'}}
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div *ngFor="let comment of post.comments">
                            <h5 class="card-title">{{comment.author}} - {{comment.createdAt}}</h5>
                            <p class="card-text">{{comment.commentBody}}</p>
                            <br>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>

                <mat-accordion>
                    <mat-expansion-panel (closed)="addCommentOpenState = false"
                                         (opened)="addCommentOpenState = true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <svg class="bi bi-chat-text-fill" fill="currentColor" height="1.5em" viewBox="0 0 16 16"
                                     width="1.5em"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM4.5 5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7zm0 2.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7zm0 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4z"
                                        fill-rule="evenodd"/>
                                </svg>
                                <a>Write something </a>
                            </mat-panel-title>
                            <mat-panel-description>
                                {{addCommentOpenState ? 'Close' : 'Open box'}}
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="container app__container">
                            <app-comment-form [postId]="post.id"></app-comment-form>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
                <br>
            </div>
        </mat-tab>
        <mat-tab label="Corporate News">
            <div *ngFor="let corporatePost of corporateNews">
                <mat-card class="example-card">
                    <mat-card-header>
                        <div class="example-header-image" mat-card-avatar></div>
                        <mat-card-title>{{corporatePost.title}}</mat-card-title>
                        <mat-card-subtitle>{{corporatePost.author}}</mat-card-subtitle>
                    </mat-card-header>
                    <img (click)="readMore(corporatePost.id)" alt="Photo" mat-card-image
                         src="{{corporatePost.picture}}">
                    <mat-card-content>
                        <p>
                            {{corporatePost.postBodyShortened}}
                        </p>
                    </mat-card-content>
                    <mat-card-subtitle>{{corporatePost.createdAt}}</mat-card-subtitle>

                    <mat-card-actions>
                        <button (click)="readMore(corporatePost.id)" color="primary" mat-raised-button>Read More</button>
                        <button  *ngIf="userId===corporatePost.authorId"  (click)="delete(corporatePost.id)" color="warn" mat-raised-button>Delete</button>
                    </mat-card-actions>
                </mat-card>

                <mat-accordion>
                    <mat-expansion-panel (closed)="commentOpenState = false"
                                         (opened)="commentOpenState = true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <svg class="bi bi-chat-fill" fill="currentColor" height="1.5em" viewBox="0 0 16 16"
                                     width="1.5em"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9.06 9.06 0 0 0 8 15z"/>
                                </svg>
                                Comments({{corporatePost.numberOfComments}})
                            </mat-panel-title>
                            <mat-panel-description>
                                {{commentOpenState ? 'Hide comments' : 'Show comments'}}
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div *ngFor="let comment of corporatePost.comments">
                            <h5 class="card-title">{{comment.author}} - {{comment.createdAt}}</h5>
                            <p class="card-text">{{comment.commentBody}}</p>
                            <br>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>

                <mat-accordion>
                    <mat-expansion-panel (closed)="addCommentOpenState = false"
                                         (opened)="addCommentOpenState = true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <svg class="bi bi-chat-text-fill" fill="currentColor" height="1.5em" viewBox="0 0 16 16"
                                     width="1.5em"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM4.5 5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7zm0 2.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7zm0 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4z"
                                        fill-rule="evenodd"/>
                                </svg>
                                <a>Write something </a>
                            </mat-panel-title>
                            <mat-panel-description>
                                {{addCommentOpenState ? 'Close' : 'Open box'}}
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="container app__container">
                            <app-comment-form [postId]="corporatePost.id"></app-comment-form>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
                <br>
            </div>

        </mat-tab>

        <mat-tab label="Free Time Activities">
            <div *ngFor="let freeTimePost of freeTimeActivities">
                <mat-card class="example-card">
                    <mat-card-header>
                        <div class="example-header-image" mat-card-avatar></div>
                        <mat-card-title>{{freeTimePost.title}}</mat-card-title>
                        <mat-card-subtitle>{{freeTimePost.author}}</mat-card-subtitle>
                    </mat-card-header>
                    <img (click)="readMore(freeTimePost.id)" alt="Photo" mat-card-image src="{{freeTimePost.picture}}">
                    <mat-card-content>
                        <p>
                            {{freeTimePost.postBodyShortened}}
                        </p>
                    </mat-card-content>
                    <mat-card-subtitle>{{freeTimePost.createdAt}}</mat-card-subtitle>

                    <mat-card-actions>
                        <button (click)="readMore(freeTimePost.id)" color="primary" mat-raised-button>Read More</button>
                        <button  *ngIf="userId===freeTimePost.authorId"  (click)="delete(freeTimePost.id)" color="warn" mat-raised-button>Delete</button>
                    </mat-card-actions>
                </mat-card>

                <mat-accordion>
                    <mat-expansion-panel (closed)="commentOpenState = false"
                                         (opened)="commentOpenState = true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <svg class="bi bi-chat-fill" fill="currentColor" height="1.5em" viewBox="0 0 16 16"
                                     width="1.5em"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9.06 9.06 0 0 0 8 15z"/>
                                </svg>
                                Comments({{freeTimePost.numberOfComments}})
                            </mat-panel-title>
                            <mat-panel-description>
                                {{commentOpenState ? 'Hide comments' : 'Show comments'}}
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div *ngFor="let comment of freeTimePost.comments">
                            <h5 class="card-title">{{comment.author}} - {{comment.createdAt}}</h5>
                            <p class="card-text">{{comment.commentBody}}</p>
                            <br>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>

                <mat-accordion>
                    <mat-expansion-panel (closed)="addCommentOpenState = false"
                                         (opened)="addCommentOpenState = true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <svg class="bi bi-chat-text-fill" fill="currentColor" height="1.5em" viewBox="0 0 16 16"
                                     width="1.5em"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM4.5 5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7zm0 2.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7zm0 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4z"
                                        fill-rule="evenodd"/>
                                </svg>
                                <a>Write something </a>
                            </mat-panel-title>
                            <mat-panel-description>
                                {{addCommentOpenState ? 'Close' : 'Open box'}}
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="container app__container">
                            <app-comment-form [postId]="freeTimePost.id"></app-comment-form>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
                <br>
            </div>

        </mat-tab>

        <mat-tab label="Professional News">
            <div *ngFor="let professionalPost of professionalNews">
                <mat-card class="example-card">
                    <mat-card-header>
                        <div class="example-header-image" mat-card-avatar></div>
                        <mat-card-title>{{professionalPost.title}}</mat-card-title>
                        <mat-card-subtitle>{{professionalPost.author}}</mat-card-subtitle>
                    </mat-card-header>
                    <img (click)="readMore(professionalPost.id)" alt="Photo" mat-card-image
                         src="{{professionalPost.picture}}">
                    <mat-card-content>
                        <p>
                            {{professionalPost.postBodyShortened}}
                        </p>
                    </mat-card-content>
                    <mat-card-subtitle>{{professionalPost.createdAt}}</mat-card-subtitle>

                    <mat-card-actions>
                        <button (click)="readMore(professionalPost.id)" color="primary" mat-raised-button>Read More
                        </button>
                        <button  *ngIf="userId===professionalPost.authorId"  (click)="delete(professionalPost.id)" color="warn" mat-raised-button>Delete</button>
                    </mat-card-actions>
                </mat-card>

                <mat-accordion>
                    <mat-expansion-panel (closed)="commentOpenState = false"
                                         (opened)="commentOpenState = true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <svg class="bi bi-chat-fill" fill="currentColor" height="1.5em" viewBox="0 0 16 16"
                                     width="1.5em"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9.06 9.06 0 0 0 8 15z"/>
                                </svg>
                                Comments({{professionalPost.numberOfComments}})
                            </mat-panel-title>
                            <mat-panel-description>
                                {{commentOpenState ? 'Hide comments' : 'Show comments'}}
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div *ngFor="let comment of professionalPost.comments">
                            <h5 class="card-title">{{comment.author}} - {{comment.createdAt}}</h5>
                            <p class="card-text">{{comment.commentBody}}</p>
                            <br>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>

                <mat-accordion>
                    <mat-expansion-panel (closed)="addCommentOpenState = false"
                                         (opened)="addCommentOpenState = true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <svg class="bi bi-chat-text-fill" fill="currentColor" height="1.5em" viewBox="0 0 16 16"
                                     width="1.5em"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM4.5 5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7zm0 2.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7zm0 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4z"
                                        fill-rule="evenodd"/>
                                </svg>
                                <a>Write something </a>
                            </mat-panel-title>
                            <mat-panel-description>
                                {{addCommentOpenState ? 'Close' : 'Open box'}}
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="container app__container">
                            <app-comment-form [postId]="professionalPost.id"></app-comment-form>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
                <br>
            </div>

        </mat-tab>
    </mat-tab-group>
</div>
